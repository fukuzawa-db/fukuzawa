CC=g++
FLAGS=-g -Wall -funwind-tables
DB_FLAGS=-L /usr/local/BerkeleyDB.4.8/lib/ -I /usr/local/BerkeleyDB.4.8/include/
DB_LIB=-ldb_cxx -lpthread
COMMON_FLAGS=-L ../COMMON/ -I ../COMMON/
COMMON_PATH=../COMMON/
COMMON_OBJE=$(COMMON_PATH)BDBOpe.o $(COMMON_PATH)TableManager.o $(COMMON_PATH)AttributeManager.o
PV_FLAGS=-L ../PosVal/ -I ../PosVal/
PV_PATH=../PosVal/
PV_OBJE=$(PV_PATH)PosVal.o $(PV_PATH)IntPosVal.o $(PV_PATH)LongPosVal.o $(PV_PATH)FloatPosVal.o $(PV_PATH)DoublePosVal.o $(PV_PATH)FixStrPosVal.o $(PV_PATH)VarStrPosVal.o $(PV_PATH)DatePosVal.o $(PV_PATH)RLEElement.o
NSM_FLAGS=-L ../NSM/ -I ../NSM/
NSM_OBJE=../NSM/MakeNSM.o
DSM_FLAGS=-L ../DSM/ -I ../DSM/
DSM_OBJE=../DSM/MakeDSM.o ../DSM/Encode.o ../DSM/BareEncode.o ../DSM/RLEEncode.o ../DSM/SortColumn.o

NODE_FLAG=-L ../Node/ -I ../Node/
NODE_OBJE=../Node/ArithmeticNode.o ../Node/AxprNode.o ../Node/ColumnRefNode.o ../Node/ValueNode.o

AGGRI_FLAG=-L ../Aggregation/ -I ../Aggregation/
AGGRI_OBJE=../Aggregation/Aggregation.o ../Aggregation/Max.o ../Aggregation/Min.o ../Aggregation/Count.o ../Aggregation/Sum.o ../Aggregation/Avg.o

OPERATION_FLAG=-L ../Operation/ -I ../Operation/
OPERATION_PATH=../Operation/
OPERATION_OBJE=$(OPERATION_PATH)Operator.o $(OPERATION_PATH)Scan.o $(OPERATION_PATH)ScanHash.o $(OPERATION_PATH)OutPut.o $(OPERATION_PATH)Selection.o $(OPERATION_PATH)Projection.o $(OPERATION_PATH)Sort.o $(OPERATION_PATH)NestedJoin.o $(OPERATION_PATH)MargeJoin.o $(OPERATION_PATH)Hash.o  $(OPERATION_PATH)HashJoin.o $(OPERATION_PATH)HashJoin_old.o $(OPERATION_PATH)OneSideHashJoin.o $(OPERATION_PATH)OneSideHashJoin_old.o $(OPERATION_PATH)GroupBy.o $(OPERATION_PATH)Extract.o




.PHONY: all
all: Test Test2 Test3 Test5 Test6 test test2 test3 test4 test5 test6 test7 test8 TEST TEST2 TEST5 TEST6 TEST7 TEST8 TEST9


TEST: TEST.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ TEST.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

TEST.o: TEST.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c TEST.cpp

TEST2: TEST2.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ TEST2.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

TEST2.o: TEST2.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c TEST2.cpp

TEST3: TEST3.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ TEST3.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

TEST3.o: TEST3.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c TEST3.cpp


TEST5: TEST5.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ TEST5.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

TEST5.o: TEST5.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c TEST5.cpp
	
TEST6: TEST6.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ TEST6.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

TEST6.o: TEST6.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c TEST6.cpp

TEST7: TEST7.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ TEST7.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

TEST7.o: TEST7.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c TEST7.cpp

TEST8: TEST8.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ TEST8.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

TEST8.o: TEST8.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c TEST8.cpp

TEST9: TEST9.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ TEST9.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

TEST9.o: TEST9.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c TEST9.cpp
	
TEST10: TEST10.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ TEST10.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

TEST10.o: TEST10.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c TEST10.cpp





Test: Test.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ Test.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

Test.o: Test.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c Test.cpp


Test2: Test2.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ Test2.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

Test2.o: Test2.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c Test2.cpp
	

Test3: Test3.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ Test3.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

Test3.o: Test3.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c Test3.cpp

	
Test5: Test5.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ Test5.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

Test5.o: Test5.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c Test5.cpp
	

Test6: Test6.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ Test6.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

Test6.o: Test6.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c Test6.cpp
















join: join.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ join.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

join.o: join.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c join.cpp

test: test.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ test.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

test.o: test.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c test.cpp
	

test2: test2.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ test2.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

test2.o: test2.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c test2.cpp


test3: test3.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ test3.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

test3.o: test3.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c test3.cpp

test4: test4.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ test4.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

test4.o: test4.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c test4.cpp


test5: test5.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ test5.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

test5.o: test5.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c test5.cpp
	

test6: test6.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ test6.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

test6.o: test6.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c test6.cpp
	

test7: test7.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ test7.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

test7.o: test7.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c test7.cpp
	
test8: test8.o
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -o $@ test8.o $(OPERATION_OBJE) $(PV_OBJE) $(COMMON_OBJE)  $(NODE_OBJE) $(DB_LIB) $(AGGRI_OBJE)

test8.o: test8.cpp
	$(CC) $(FLAGS) $(COMMON_FLAGS) $(DB_FLAGS) $(PV_FLAGS) $(NODE_FLAG) $(AGGRI_FLAG) $(OPERATION_FLAG) -c test8.cpp
